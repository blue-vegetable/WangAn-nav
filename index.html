<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<meta name="description" content="" />
		<meta name="author" content="" />
		<title>网安人导航</title>
		<!-- Favicon-->
		<link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
		<!-- Font Awesome icons (free version)-->
		<script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
		<!-- Simple line icons-->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" rel="stylesheet"
		 type="text/css" />
		<!-- Google fonts-->
		<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet"
		 type="text/css" />
		<!-- Core theme CSS (includes Bootstrap)-->
		<link href="css/styles.css" rel="stylesheet" />
		<base target="_blank">
		<script src="./js/jquery-3.1.0.min.js"></script>
	</head>

	<script>
		$.getJSON('./config/config.json', function (configData) {
		let sites = configData['sites'];
		$.each(sites, function (i, site) {
			$("#search-btns").append(`
			  <input
				type="submit"
				value="${site.name}"
				id="${site.id}"
				button
				type="button"
				class="btn btn-${'color' in site ? site.color : 'primary'}"
			  />
			`);
			$("#" + site.id).click(function () {
				let searchUrl = site.queryUrl.replace("{}", encodeURIComponent($('#search').val()));
				if (searchUrl) {
					window.open(searchUrl, "_blank");
					return false;
				}
			})
		})
	});
	
	$.getJSON('./config/config_websites2.json', function (configData) {
		let sites = configData['kinds'];
		let length = configData['length'];
		$.each(sites, function (i, kind) {
			let temp_length = 0;
			$("#websites").append(`
			  <tr 
			    id = "${kind.id}"
			  > <td> ${kind.type} </td> </tr>
			  `);
			$.each(kind.sites,function(j,site){
				$("#"+kind.id).append(`
					<td><a href="${site.Url}">${site.name}</a></td>
				`);
				temp_length = j;
			})
			while(temp_length + 1 < length){
				$("#"+kind.id).append(`
					<td><a href="javascript:void(0)">待更</a></td>
				`);
				temp_length += 1;
			}
		})
		
	});
	
	
</script>

	<body>
		<!-- Navigation-->
		<!-- <nav class="navbar navbar-light bg-light static-top">
            <div class="container">
                <a class="navbar-brand" href="#!">Start Bootstrap</a>
                <a class="btn btn-primary" href="#!">Sign In</a>
            </div>
        </nav> -->
		<!-- Masthead-->
		<header class="masthead text-white text-center">
			<div class="overlay"></div>
			<div class="container">
				<div class="row">
					<div class="col-xl-9 mx-auto">
						<h1 class="mb-5">网安人导航</h1>
					</div>
					<div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
						<form>
							<div class="form-row">
								<div class="col-12 col-md-12 mb-2 mb-md-0">
									<input id="search" class="form-control form-control-lg" type="text" placeholder="输入你想知道的 (默认回车为谷歌搜索) " />
								</div>
								<center id="search-btns" class="col-12 col-md-12">
								</center>
							</div>
						</form>
					</div>
				</div>
			</div>
		</header>

		<!-- 快捷进入 -->
		<div class="container">
			<table class="table text-white">
				<tbody id="websites">
					
				</tbody>
			</table>
		</div>

		<!-- Footer-->
		<footer class="footer bg-light">
			<div class="container">
				<div class="row">
					<div class="col-lg-6 h-100 text-center text-lg-left my-auto">
						<ul class="list-inline mb-2">
							<li class="list-inline-item">⋅</li>
							<li class="list-inline-item"><a href="https://wry2431.top">关于我</a></li>
							<li class="list-inline-item">⋅</li>
							<li class="list-inline-item"><a href="mailto:2431340038@qq.com">联系我</a></li>
							<li class="list-inline-item">⋅</li>
						</ul>
						<p class="text-muted small mb-4 mb-lg-0">页面参照北邮人导航制作(byr.wiki)</p>
					</div>
					<div class="col-lg-6 h-100 text-center text-lg-right my-auto">
						<ul class="list-inline mb-0">
							<li class="list-inline-item mr-3">
								<a href="http://wpa.qq.com/msgrd?v=3&uin=2431340038&site=qq&menu=yes"><i class="fab fa-qq fa-2x fa-fw"></i></a>
							</li>
							<li class="list-inline-item mr-3">
								<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=2431340038&website=www.oicqzone.com"><i
									 class="fab fa-qq fa-2x fa-fw"></i></a>
							</li>
							<li class="list-inline-item">
								<a href="https://github.com/blue-vegetable"><i class="fab fa-github fa-2x fa-fw"></i></a>
							</li>
						</ul>
					</div>
				</div>
			</div>


		</footer>
		<!-- Bootstrap core JS-->
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
		<!-- Core theme JS-->
		<script src="js/scripts.js"></script>
	</body>

</html>
